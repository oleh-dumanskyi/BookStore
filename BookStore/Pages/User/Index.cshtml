@page
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@model BookStore.Pages.User.IndexModel
@{
    var i = 0;
    
    <h2>Book store</h2><p></p>
    <p>Hello, @Model._context.Users.FirstOrDefault(u=>u.Email == HttpContext.User.Identity.Name).Name</p>
    <p></p>
    <form method="post" style="width: 15%; border-style: solid; border-color: lightgrey">
        <h4># книги:</h4>
        <input type="number" name="bookId"/>
        <p></p>
        <input type="submit" value="Add book to cart">
    </form>
    <p></p>
    <a href="~/User/shoppingcart"><input type="button" value="Shopping Cart"></a>
    <p></p>
    <a href="~/logout"><input type="button" value="Log Out"></a>
    <br><p></p>
    <table style="border-style: solid; border-collapse: collapse; border-color: lightgrey">
            <tr><th>#</th><th>Название</th><th>Автор</th><th>Язык</th><th>Страницы</th><th>Жанр</th><th>Цена</th></tr>
            @foreach (var book in Model._context.Books)
            {
                i++;
                <tr><td>@book.Id</td><td>@book.Title</td><td>@book.Author</td><td>@book.Language</td><td>@book.Pages</td><td>@book.Genre</td><td>@book.Price</td></tr>
            }
     </table>
    }
